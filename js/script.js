var $$=mdui.$,searchFunc=($$(function(){$$(window).on("scroll",function(e){0!==(document.documentElement.scrollTop||document.body.scrollTop)?$$("#gotop").removeClass("mdui-fab-hide"):$$("#gotop").addClass("mdui-fab-hide")}),$$("#gotop").on("click",function(e){!function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;0!==t&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/5))}()})}),$$.fn.extend({longPress:function(o){for(var e=0;e<this.length;e++)!function(e){function t(e){r=setTimeout(function(){o(e)},500)}function n(e){clearTimeout(r)}var r;e.addEventListener("mousedown",t,!1),e.addEventListener("mouseup",n,!1),e.addEventListener("touchstart",t,!1),e.addEventListener("touchend",n,!1)}(this[e])}}),$$(function(){$$("#header").longPress(function(e){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches||($$("body").hasClass("mdui-theme-layout-dark")?($$("body").removeClass("mdui-theme-layout-dark"),localStorage.removeItem("mdui-theme-layout-dark")):($$("body").addClass("mdui-theme-layout-dark"),localStorage.setItem("mdui-theme-layout-dark",!0)))}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){e.matches?$$("body").addClass("mdui-theme-layout-dark"):$$("body").removeClass("mdui-theme-layout-dark"),localStorage.removeItem("mdui-theme-layout-dark")});var t=new mdui.Tab("#donate .mdui-tab");$$("#donate").on("opened.mdui.dialog",function(e){t.handleUpdate()})}),$$(function(){$$("#sidebar").on("open.mdui.drawer",function(e){localStorage.removeItem("mdui-drawer-close")}),$$("#sidebar").on("close.mdui.drawer",function(e){localStorage.setItem("mdui-drawer-close",!0)})}),$$(function(){$$(".mdui-collapse-item").eq(0).on("close.mdui.collapse",function(e){localStorage.removeItem("mdui-collapse-item-0")}),$$(".mdui-collapse-item").eq(0).on("open.mdui.collapse",function(e){localStorage.setItem("mdui-collapse-item-0",!0)}),$$(".mdui-collapse-item").eq(1).on("close.mdui.collapse",function(e){localStorage.removeItem("mdui-collapse-item-1")}),$$(".mdui-collapse-item").eq(1).on("open.mdui.collapse",function(e){localStorage.setItem("mdui-collapse-item-1",!0)}),$$(".mdui-collapse-item").eq(2).on("close.mdui.collapse",function(e){localStorage.removeItem("mdui-collapse-item-2")}),$$(".mdui-collapse-item").eq(2).on("open.mdui.collapse",function(e){localStorage.setItem("mdui-collapse-item-2",!0)}),$$(".mdui-collapse-item").eq(3).on("close.mdui.collapse",function(e){localStorage.removeItem("mdui-collapse-item-3")}),$$(".mdui-collapse-item").eq(3).on("open.mdui.collapse",function(e){localStorage.setItem("mdui-collapse-item-3",!0)})}),function(e,r,o){$$.ajax({url:e,dataType:"xml",success:function(e){var t=$$(e).map(function(){return"SEARCH"===this.tagName?this:null}).find("entry").map(function(){return{title:$$(this).find("title").text(),content:$$(this).find("content").text(),url:$$(this).find("url").text()}}).get(),e=$$(r)[0],n=$$(o)[0];e.addEventListener("input",function(){var c='<ul class="search-result-list">',d=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length<=0||(t.forEach(function(e){var n,t,r=!0,o=(e.title&&""!==e.title.trim()||(e.title="Untitled"),e.title.trim()),s=o.toLowerCase(),i=e.content.trim().replace(/<[^>]+>/g,""),a=i.toLowerCase(),e=e.url,u=-1,l=-1;""!==a?d.forEach(function(e,t){n=s.indexOf(e),u=a.indexOf(e),n<0&&u<0?r=!1:(u<0&&(u=0),0==t&&(l=u))}):r=!1,r&&(c+='<li><a href="'+e+'" class="search-result-title" target="_blank">'+o+"</a>",0<=l&&(e=l+80,(e=0==(o=(o=l-20)<0?0:o)?100:e)>i.length&&(e=i.length),t=i.substr(o,e),d.forEach(function(e){e=new RegExp(e,"gi");t=t.replace(e,'<em class="search-result-keyword">$&</em>')}),c+='<p class="search-result-content">'+t+"...</p>"),c+="</li>")}),c+="</ul>",n.innerHTML=c)})}})});$$(function(){var t=$$("#search .search-form-input")[0],e=($$("#search").on("opened.mdui.dialog",function(e){t.focus()}),$$(document).on("click",function(e){$$(e.target).closest("#search").length<=0&&($$(".search-form-input").val(""),$$(".search-result").html(""))}),$$(".search-result").attr("data-resource"));e&&searchFunc(e,".search-form-input",".search-result")}),function(){function j(e,t){for(var n in t)Y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}var u,F,N,_,t,g,U,H,y,W,X,e,D,v,w,n,r,a,o,s,z,i,l,G,$,b,c,d,B,k,p,h,S,q,L,m,f,x,T,E,J,K,Q,V,R,C=[].slice,Y={}.hasOwnProperty,Z=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};function P(){}for(r={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},$=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,n=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==c&&(c=function(e){return setTimeout(e,50)},n=function(e){return clearTimeout(e)}),B=function(t){var n=$(),r=function(){var e=$()-n;return 33<=e?(n=$(),t(e,function(){return c(r)})):setTimeout(r,33-e)};return r()},d=function(){var e=arguments[0],t=arguments[1],n=3<=arguments.length?C.call(arguments,2):[];return"function"==typeof e[t]?e[t].apply(e,n):e[t]},a=function(){for(var e,t,n,r=arguments[0],o=2<=arguments.length?C.call(arguments,1):[],s=0,i=o.length;s<i;s++)if(t=o[s])for(e in t)Y.call(t,e)&&(n=t[e],null!=r[e]&&"object"==typeof r[e]&&null!=n&&"object"==typeof n?a(r[e],n):r[e]=n);return r},D=function(e){for(var t,n,r=t=0,o=0,s=e.length;o<s;o++)n=e[o],r+=Math.abs(n),t++;return r/t},s=function(e,t){var n;if(null==e&&(e="options"),null==t&&(t=!0),n=document.querySelector("[data-pace-"+e+"]")){if(n=n.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(e){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",e):void 0}}},P.prototype.on=function(e,t,n,r){var o;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[e]&&(o[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},P.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},P.prototype.off=function(e,t){var n,r,o;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,o=[];n<this.bindings[e].length;)this.bindings[e][n].handler===t?o.push(this.bindings[e].splice(n,1)):o.push(n++);return o}},P.prototype.trigger=function(){var e,t,n,r,o,s,i=arguments[0],a=2<=arguments.length?C.call(arguments,1):[];if(null!=(r=this.bindings)&&r[i]){for(n=0,s=[];n<this.bindings[i].length;)t=(o=this.bindings[i][n]).handler,e=o.ctx,o=o.once,t.apply(null!=e?e:this,a),o?s.push(this.bindings[i].splice(n,1)):s.push(n++);return s}},R=P,g=window.Pace||{},window.Pace=g,a(g,R.prototype),b=g.options=a({},r,window.paceOptions,s()),T=0,J=(Q=["ajax","document","eventLag","elements"]).length;T<J;T++)!0===b[S=Q[T]]&&(b[S]=r[S]);function M(){return M.__super__.constructor.apply(this,arguments)}function I(){this.progress=0}function A(){this.bindings={}}function O(){var t,s=this;O.__super__.constructor.apply(this,arguments),t=function(r){var o=r.open;return r.open=function(e,t,n){return h(e)&&s.trigger("request",{type:e,url:t,request:r}),o.apply(r,arguments)}},window.XMLHttpRequest=function(e){e=new x(e);return t(e),e};try{o(window.XMLHttpRequest,x)}catch(e){}if(null!=f){window.XDomainRequest=function(){var e=new f;return t(e),e};try{o(window.XDomainRequest,f)}catch(e){}}if(null!=m&&b.ajax.trackWebSockets){window.WebSocket=function(e,t){var n=null!=t?new m(e,t):new m(e);return h("socket")&&s.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n};try{o(window.WebSocket,m)}catch(e){}}}function ee(){var e=this;this.elements=[],z().on("request",function(){return e.watch.apply(e,arguments)})}function te(e){this.selector=e,this.progress=0,this.check()}function ne(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}function re(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=b.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=d(this.source,"progress"))}R=Error,j(M,R),t=M,I.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(b.target)))throw new t;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},I.prototype.finish=function(){var e=this.getElement();return e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},I.prototype.update=function(e){return this.progress=e,this.render()},I.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){t=e}return this.el=void 0},I.prototype.render=function(){var e,t,n,r,o,s;if(null==document.querySelector(b.target))return!1;for(e=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",r=0,o=(s=["webkitTransform","msTransform","transform"]).length;r<o;r++)e.children[0].style[s[r]]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),100<=this.progress?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress},I.prototype.done=function(){return 100<=this.progress},F=I,A.prototype.trigger=function(e,t){var n,r,o,s,i;if(null!=this.bindings[e]){for(i=[],r=0,o=(s=this.bindings[e]).length;r<o;r++)n=s[r],i.push(n.call(this,t));return i}},A.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},s=A,x=window.XMLHttpRequest,f=window.XDomainRequest,m=window.WebSocket,o=function(e,t){var n,r,o=[];for(n in t.prototype)try{r=t.prototype[n],null==e[n]&&"function"!=typeof r?o.push(e[n]=r):o.push(void 0)}catch(e){0}return o},l=[],g.ignore=function(){var e=arguments[0],t=2<=arguments.length?C.call(arguments,1):[];return l.unshift("ignore"),e=e.apply(null,t),l.shift(),e},g.track=function(){var e=arguments[0],t=2<=arguments.length?C.call(arguments,1):[];return l.unshift("track"),e=e.apply(null,t),l.shift(),e},h=function(e){if(null==e&&(e="GET"),"track"===l[0])return"force";if(!l.length&&b.ajax){if("socket"===e&&b.ajax.trackWebSockets)return!0;if(e=e.toUpperCase(),0<=Z.call(b.ajax.trackMethods,e))return!0}return!1},j(O,s),U=O,E=null,p=function(e){for(var t,n=b.ajax.ignoreURLs,r=0,o=n.length;r<o;r++)if("string"==typeof(t=n[r])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(z=function(){return E=null==E?new U:E})().on("request",function(e){var s,i=e.type,a=e.request,t=e.url;if(!p(t))return g.running||!1===b.restartOnRequestAfter&&"force"!==h(i)?void 0:(s=arguments,"boolean"==typeof(t=b.restartOnRequestAfter||0)&&(t=0),setTimeout(function(){var e,t,n,r,o="socket"===i?a.readyState<2:0<(o=a.readyState)&&o<4;if(o){for(g.restart(),r=[],e=0,t=(n=g.sources).length;e<t;e++){if((S=n[e])instanceof u){S.watch.apply(S,s);break}r.push(void 0)}return r}},t))}),ee.prototype.watch=function(e){var t=e.type,n=e.request,e=e.url;if(!p(e))return e=new("socket"===t?W:X)(n),this.elements.push(e)},u=ee,X=function(t){var e,n,r,o,s=this;if(this.progress=0,null!=window.ProgressEvent)for(t.addEventListener("progress",function(e){return e.lengthComputable?s.progress=100*e.loaded/e.total:s.progress=s.progress+(100-s.progress)/2},!1),e=0,n=(o=["load","abort","timeout","error"]).length;e<n;e++)t.addEventListener(o[e],function(){return s.progress=100},!1);else r=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?s.progress=100:3===t.readyState&&(s.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}},W=function(e){for(var t,n=this,r=this.progress=0,o=(t=["error","open"]).length;r<o;r++)e.addEventListener(t[r],function(){return n.progress=100},!1)},R=function(e){var t,n,r,o;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),n=0,r=(o=e.selectors).length;n<r;n++)t=o[n],this.elements.push(new N(t))},te.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},b.elements.checkInterval)},te.prototype.done=function(){return this.progress=100},N=te,ne.prototype.states={loading:0,interactive:50,complete:100},s=ne,_=function(){var t,n,r,o,s,i=this;this.progress=0,s=[],o=0,r=$(),n=setInterval(function(){var e=$()-r-50;return r=$(),s.push(e),s.length>b.eventLag.sampleCount&&s.shift(),t=D(s),++o>=b.eventLag.minSamples&&t<b.eventLag.lagThreshold?(i.progress=100,clearInterval(n)):i.progress=3/(t+3)*100},50)},re.prototype.tick=function(e,t){return 100<=(t=null==t?d(this.source,"progress"):t)&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/b.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),t=1-Math.pow(this.progress/100,b.easeFactor),this.progress+=t*this.rate*e,this.progress=Math.min(this.lastProgress+b.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},y=re,w=e=L=v=k=q=null,g.running=!1,i=function(){if(b.restartOnPushState)return g.restart()},null!=window.history.pushState&&(K=window.history.pushState,window.history.pushState=function(){return i(),K.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return i(),V.apply(window.history,arguments)}),H={ajax:u,elements:R,document:s,eventLag:_},(G=function(){var e,t,n,r,o,s,i,a;for(g.sources=q=[],t=0,r=(s=["ajax","elements","document","eventLag"]).length;t<r;t++)!1!==b[e=s[t]]&&q.push(new H[e](b[e]));for(n=0,o=(a=null!=(i=b.extraSources)?i:[]).length;n<o;n++)S=a[n],q.push(new S(b));return g.bar=v=new F,k=[],L=new y})(),g.stop=function(){return g.trigger("stop"),g.running=!1,v.destroy(),w=!0,null!=e&&("function"==typeof n&&n(e),e=null),G()},g.restart=function(){return g.trigger("restart"),g.stop(),g.start()},g.go=function(){var f;return g.running=!0,v.render(),f=$(),w=!1,e=B(function(e,t){v.progress;for(var n,r,o,s,i,a,u,l,c,d=i=0,p=!0,h=a=0,m=q.length;a<m;h=++a)for(S=q[h],s=null!=k[h]?k[h]:k[h]=[],r=u=0,l=(n=null!=(c=S.elements)?c:[S]).length;u<l;r=++u)o=n[r],p&=(o=null!=s[r]?s[r]:s[r]=new y(o)).done,o.done||(d++,i+=o.tick(e));return v.update(L.tick(e,i/d)),v.done()||p||w?(v.update(100),g.trigger("done"),setTimeout(function(){return v.finish(),g.running=!1,g.trigger("hide")},Math.max(b.ghostTime,Math.max(b.minTime-($()-f),0)))):t()})},g.start=function(e){a(b,e),g.running=!0;try{v.render()}catch(e){t=e}return document.querySelector(".pace")?(g.trigger("start"),g.go()):setTimeout(g.start,50)},"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof exports?module.exports=g:b.startOnPageLoad&&g.start()}.call(this);